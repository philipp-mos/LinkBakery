@page "/"
@using LinkBakery.Core.Models
@using LinkBakery.Core.Repositories.Interfaces

@inject ITrackingLinkRepository TrackingLinkRepository

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

@foreach (var trackingLink in trackingLinks)
{
    <p>@trackingLink.Key | @trackingLink.TargetUrl</p>
}



@code {
    // Testing
    private IEnumerable<TrackingLink> trackingLinks = new List<TrackingLink>();

    protected override async Task OnInitializedAsync()
    {
        trackingLinks = await TrackingLinkRepository.GetAllAsync();
    }
}